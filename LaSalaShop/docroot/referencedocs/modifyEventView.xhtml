<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="./headerView.xhtml">

	<!-- Parametros de UI -->
	<ui:param name="header_nav_events" value="tab_selected" />
	<ui:param name="page_title" value="Modificar Event" />

	<ui:define name="content">
		<link rel="stylesheet" type="text/css" media="all" href="resources/jsDatePick_ltr.min.css" />
		<script type="text/javascript" src="resources/jsDatePick.min.1.3.js"></script>
        <script type="text/javascript">
     		//<![CDATA[
			window.onload = function(){
				new JsDatePick({
					useMode:2,
					target:"dataInici",
					dateFormat:"%d/%m/%Y"
				});

				new JsDatePick({
					useMode:2,
					target:"dataFi",
					dateFormat:"%d/%m/%Y"
				});
			};
		//]]>	
		</script>	
		<h1>Modificació de l'event seleccionat:</h1>
		<h:form name="Modificar Event" prependId="false">
            <h:panelGrid columns="2" width="100%">

                <h:outputLabel value="Id " />
                <h:outputText value="#{modifyEvent.id}" />
                
                <h:outputLabel value="Nom" />
                <h:inputText value="#{modifyEvent.name}" />

                <h:outputLabel value="Descripció" />
                <h:inputText value="#{modifyEvent.description}" />    
                
	 			<h:outputLabel value="Data d'inici" />
				<h:inputText value="#{modifyEvent.iniDate}" id="dataInici" required="true" >
					<f:convertDateTime pattern="dd/mm/yyyy" />
				</h:inputText>
				
				<h:outputLabel value="Data de fi" />
				<h:inputText value="#{modifyEvent.endDate}" id="dataFi" required="true" >
					<f:convertDateTime pattern="dd/mm/yyyy" />
				</h:inputText>
				
				<h:outputLabel value="Imatge" />
				<h:panelGrid columns="2" class="imageList" border="0" cellspacing="0" cellpadding="0">
					<h:selectOneRadio layout="pageDirection" value="#{modifyEvent.picture}">
						<f:selectItem itemLabel="Convits" itemValue="event1.png" />
						<f:selectItem itemLabel="Festes" itemValue="event2.png" />
						<f:selectItem itemLabel="Cates" itemValue="event3.png" />
						<f:selectItem itemLabel="Negocis" itemValue="event4.png" />
					</h:selectOneRadio>
					<h:panelGrid columns="1" border="0" cellspacing="0" cellpadding="0">
						<h:graphicImage value="./resources/images/event1.png" />
						<h:graphicImage value="./resources/images/event2.png" />
						<h:graphicImage value="./resources/images/event3.png" />
						<h:graphicImage value="./resources/images/event4.png" />
					</h:panelGrid>
				</h:panelGrid>
				
				<h:outputLabel value="Paraules clau. Pots seleccionar varies alhora" />
				<h:selectManyListbox valueChangeListener="#{modifyEvent.wordsValueChanged}" value="#{modifyEvent.selectedWords}"  converter="#{wordConverter}"  immediate="true">
					<f:selectItems value="#{modifyEvent.allWordsList}" />	
				</h:selectManyListbox>	
							
				<h:outputLabel value="Carrer"/>
				<h:inputText value="#{modifyEvent.street}"/>
				
				<h:outputLabel value="Ciutat"/>
				<h:inputText value="#{modifyEvent.city}"/>
				
				<h:outputLabel value="Pais"/>
				<h:inputText value="#{modifyEvent.country}"/>
				
				<h:outputLabel value="Número"/>
				<h:inputText value="#{modifyEvent.number}"/>		
				
				
				<h:outputLabel value="Empresa"/>
				<h:selectOneMenu  value="#{modifyEvent.selectedCompany}" valueChangeListener="#{modifyEvent.companyValueChanged}" converter="#{companyConverter}">
					<f:selectItems value="#{modifyEvent.companiesList}" />
				</h:selectOneMenu>
	        
            </h:panelGrid>
   			<h:commandButton value="Modificar" action="#{modifyEvent.modifyDataEvent()}" />
            <h:commandButton value="Tornar" action="eventsListView" actionlistener="#{listEvents.viewAllEvents()}" immediate="true" />
        </h:form>

    </ui:define>
</ui:composition>
</html>
